<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta http-equiv="Content-Security-Policy"
        content="default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline'; font-src 'self' data:; img-src 'self' data: https://img.youtube.com https://i.ytimg.com; frame-src https://www.youtube.com https://www.youtube-nocookie.com; connect-src 'self'; object-src 'none'; base-uri 'self'; form-action 'self';">
    <title>SYSTEM HARDENING PROTOCOL | v9.0.0</title>
    <!-- v8.3.1: Nutrition Tab Redesign + Security Fix + Zero-Dependency Font Awesome -->
    <script src="./src/js/vendors/tailwindcss.min.js"></script>
    <link href="./src/js/vendors/fontawesome-local.css" rel="stylesheet">

    <script nonce="systemhardening-v831">
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'gunmetal': '#0a0a0f',
                        'surface-card': '#111116',
                        'surface-raised': '#1a1a22',
                        'surface-hover': '#222230',
                        'neon-green': '#00ff41',
                        'neon-red': '#ff003c',
                        'accent-orange': '#ff6b35',
                        'text-muted': '#6b7280',
                    },
                    fontFamily: {
                        mono: ['"JetBrains Mono"', 'monospace'],
                        header: ['"Orbitron"', 'sans-serif'],
                    },
                    animation: {
                        'slide-up': 'slideUp 0.3s ease-out forwards',
                        'scan': 'scan 2s linear infinite',
                        'pulse-urgent': 'pulseUrgent 1.5s infinite',
                    },
                    keyframes: {
                        slideUp: {
                            '0%': { transform: 'translateY(20px)', opacity: '0' },
                            '100%': { transform: 'translateY(0)', opacity: '1' },
                        },
                        scan: {
                            '0%': { backgroundPosition: '0% 0%' },
                            '100%': { backgroundPosition: '0% 100%' }
                        },
                        pulseUrgent: {
                            '0%, 100%': { borderColor: '#ff003c', boxShadow: '0 0 5px #ff003c' },
                            '50%': { borderColor: 'transparent', boxShadow: 'none' }
                        }
                    }
                }
            }
        }
    </script>

    <link rel="stylesheet" href="./src/css/main.css">
</head>

<body class="text-base">

    <!-- NAV -->
    <nav class="fixed top-0 w-full bg-gunmetal/80 backdrop-blur-md z-40 border-b border-white/5 h-20">
        <div class="container mx-auto h-full px-6 flex justify-between items-center max-w-7xl">
            <div class="flex items-center gap-4">
                <i class="fas fa-biohazard text-neon-green text-2xl"></i>
                <div>
                    <h1 class="font-header font-bold text-white tracking-wider text-lg md:text-xl"><span
                            data-i18n="app.title">PROTOCOL</span> <span class="text-sm text-text-muted">v9.0.0</span>
                    </h1>
                    <div data-i18n="app.system_online"
                        class="text-[10px] text-neon-green font-bold tracking-[0.2em] uppercase">SYSTEM ONLINE
                    </div>
                </div>
            </div>
            <div class="flex items-center gap-6">
                <div id="clock-display" class="hidden md:block font-mono text-text-muted font-bold text-sm">--:--:--
                </div>
                <button data-action="openSettings" data-event="click" data-params="[]" data-pass-element="false"
                    data-stop-propagation="false" id="btn-settings"
                    class="bg-gray-800 text-gray-400 px-3 py-2 rounded-lg hover:bg-gray-700 hover:text-white transition">
                    <i class="fas fa-cog"></i>
                </button>
                <button data-action="toggleOverride" data-event="click" data-params="[]" data-pass-element="false"
                    data-stop-propagation="false" id="btn-override"
                    class="bg-neon-red/10 text-neon-red px-4 py-2 rounded-lg hover:bg-neon-red hover:text-white transition text-xs font-bold tracking-widest">
                    <i class="fas fa-power-off mr-2"></i> <span data-i18n="nav.override">OVERRIDE</span>
                </button>
            </div>
        </div>
    </nav>

    <!-- MAIN -->
    <main class="container mx-auto mt-24 px-6 pb-24 max-w-7xl">
        <div class="flex justify-center overflow-x-auto mb-8 gap-3 border-b border-white/5 pb-2 scrollbar-hide"
            id="nav-tabs"></div>
        <div id="view-container" class="min-h-[60vh] animate-slide-up"></div>
    </main>

    <!-- MODAL -->
    <div id="universal-modal"
        class="modal fixed inset-0 z-50 flex items-center justify-center p-6 bg-gunmetal/90 backdrop-blur-md">
        <div
            class="modal-content bg-surface-card w-full max-w-2xl rounded-2xl shadow-2xl relative max-h-[85vh] flex flex-col">
            <div class="p-6 border-b border-white/5 flex justify-between items-center">
                <h3 id="modal-title" class="font-header text-xl font-bold text-neon-green"><span
                        data-i18n="modal.info">INFO</span></h3>
                <button data-action="closeModal" data-event="click" data-params="[]" data-pass-element="false"
                    data-stop-propagation="false" class="text-text-muted hover:text-white transition p-2"><i
                        class="fas fa-times text-xl"></i></button>
            </div>
            <div id="modal-body" class="p-8 overflow-y-auto custom-scrollbar"></div>
        </div>
    </div>

    <!-- ALERT MODAL -->
    <div id="alert-modal"
        class="modal fixed inset-0 z-[60] flex items-center justify-center p-6 bg-gunmetal/95 backdrop-blur-lg">
        <div
            class="modal-content bg-surface-card border border-neon-red/30 w-full max-w-md rounded-2xl shadow-[0_0_60px_rgba(255,0,60,0.2)] relative p-8 text-center">
            <i class="fas fa-exclamation-triangle text-6xl text-neon-red mb-6"></i>
            <h2 class="text-3xl font-header font-bold text-white mb-3" data-i18n="app.system_alert">SİSTEM UYARISI</h2>
            <p id="alert-message" class="text-gray-300 mb-8 text-base leading-relaxed"></p>
            <button data-action="closeAlert" data-event="click" data-params="[]" data-pass-element="false"
                data-stop-propagation="false"
                class="bg-neon-red text-white font-bold py-4 px-8 rounded-xl hover:bg-white hover:text-neon-red transition w-full text-lg"
                data-i18n="app.alert_understood">ANLAŞILDI
                KOMUTANIM</button>
        </div>
    </div>

    <div id="toast-container"></div>

    <!-- OVERRIDE PANEL (Robot Mode) -->
    <div id="override-panel">
        <div id="override-timer">00:00</div>
        <div id="override-mission" data-i18n="app.override_mission_default">GÖREV: TAMAMLANMAMIŞ İŞLER</div>
        <button data-action="exitOverride" data-event="click" data-params="[]" data-pass-element="false"
            data-stop-propagation="false"
            class="mt-3 text-xs text-gray-500 hover:text-white border border-gray-700 px-3 py-1 rounded"
            data-i18n="app.override_exit">ÇIKIŞ
            (ESC)</button>
    </div>

    <script type="module" src="./src/js/app.js?v=8.3.2"></script>
</body>

</html>